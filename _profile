## --------------------------------------------------------------
## GIT
## --------------------------------------------------------------

function parse_git_info {
    branch=$(git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ \[\1\]/')
    if [ -n "$branch" ]; then
      echo "$branch" | tr -d '\n' && [[ $(git status 2> /dev/null | tail -n1) != "nothing to commit (working directory clean)" ]] && echo "*"
    fi
}

## --------------------------------------------------------------
## Prompt
## --------------------------------------------------------------
export PS1="\[\033[0;35m\]\u@\H\n\[\033[0;32m\][\w]\[\033[0m\]\[\033[1;36m\]\$(parse_git_info) \[\033[0;32m\]\$ \[\033[0m\]"
export CLICOLOR=1

## --------------------------------------------------------------
## Welcome Msg
## --------------------------------------------------------------

fortune | cowsay

## --------------------------------------------------------------
## Extending Paths
## --------------------------------------------------------------

# personal bin folder
export PATH=$PATH:~/bin
# use php from mamp
export PATH=/Applications/MAMP/bin/php/php5.4.4/bin:$PATH

## --------------------------------------------------------------
## Aliasses
## --------------------------------------------------------------

alias flushdns="sudo killall -HUP mDNSResponder"
alias ll='ls -lisah'
alias ..='cd ..'
alias cd..='cd ..'
alias sd='sudo'
alias mybin='subl ~/bin'
alias refresh='clear && source ~/.profile'

## --------------------------------------------------------------
## Aliasses // git
## --------------------------------------------------------------

alias gl='git log --date=short --pretty=format:"%C(bold yellow)%h %C(bold green)%ad %C(reset)%s %C(bold blue)[%an]%C(bold red)%d" && echo '
alias gg='git log --all --date=short --format=format:"%C(bold yellow)%h %C(bold green)%ad %C(reset)%s %C(bold blue)[%an]%C(bold red)%d" --graph && echo '
alias gs='git status'
alias gc='git commit -m'
alias gca='git add . && git commit -m'
alias gb='git branch'


# SSH-Server

alias ra='ssh admin@ra.local'
alias janiu='ssh bis@janiu.bench'

## --------------------------------------------------------------
## Exports
## --------------------------------------------------------------

# i know how to save in emacs ^_^
export EDITOR="emacs"
#osx color terminal
export CLICOLOR=1
# don't put duplicate lines in the history. See bash(1) for more options
# don't overwrite GNU Midnight Commander's setting of `ignorespace'.
HISTCONTROL=$HISTCONTROL${HISTCONTROL+,}ignoredups
# ... or force ignoredups and ignorespace
HISTCONTROL=ignoreboth

# append to the history file, don't overwrite it
shopt -s histappend
# check the window size after each command and, if necessary,
# update the values of LINES and COLUMNS.
shopt -s checkwinsize
